<div class="admin-section">
  <div class="admin-header">
    <h1>Add New Cosmetic</h1>
    <%= link_to 'Back to Cosmetics', admin_cosmetics_path, class: 'btn btn-outline' %>
  </div>

  <div class="admin-content">
    <%= form_with model: [:admin, @cosmetic], local: true, multipart: true, class: 'admin-form' do |form| %>
      <% if @cosmetic.errors.any? %>
        <div class="admin-errors">
          <h3><%= pluralize(@cosmetic.errors.count, "error") %> prohibited this cosmetic from being saved:</h3>
          <ul>
            <% @cosmetic.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="form-group">
        <%= form.label :name, class: 'form-label' %>
        <%= form.text_field :name, class: 'form-control', required: true %>
      </div>

      <div class="form-group">
        <%= form.label :description, class: 'form-label' %>
        <%= form.text_area :description, class: 'form-control', rows: 3 %>
      </div>

      <div class="form-group">
        <%= form.label :type, class: 'form-label' %>
        <%= form.select :type, 
            options_for_select([
              ['Back', 'back'],
              ['Hat', 'hat'],
              ['Eyes', 'eyes'],
              ['Front', 'front'],
              ['Neck', 'neck'],
              ['Feet', 'feet'],
              ['Cloak', 'cloak'],
              ['Face', 'face'],
              ['Left', 'left'],
              ['Right', 'right']
            ], @cosmetic.type), 
            { prompt: 'Select a type' }, 
            { class: 'form-control', required: true } %>
      </div>

      <div class="form-group">
        <%= form.label :cost, 'Cost (coins)', class: 'form-label' %>
        <%= form.number_field :cost, class: 'form-control', min: 0, required: true %>
      </div>

      <div class="form-group">
        <div class="form-check">
          <%= form.check_box :purchasable, class: 'form-check-input' %>
          <%= form.label :purchasable, 'Available for purchase in shop', class: 'form-check-label' %>
        </div>
      </div>

      <div class="form-group">
        <%= form.label :image, 'Cosmetic Image', class: 'form-label' %>
        <%= form.file_field :image, class: 'form-control', accept: 'image/*', required: true %>
        <small class="form-text">Upload an image file (PNG, JPG, etc.)</small>
      </div>

      <div class="form-actions">
        <%= form.submit 'Create Cosmetic', class: 'btn btn-primary' %>
        <%= link_to 'Cancel', admin_cosmetics_path, class: 'btn btn-outline' %>
      </div>
    <% end %>
  </div>
</div>
